<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<title data-react-helmet="true">Extract Code Snippets | Bluehawk</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://mongodb-university.github.io/Bluehawk/code-snippets/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Extract Code Snippets | Bluehawk"><meta data-react-helmet="true" name="description" content="Do you prefer learning through videos? Check out our video on"><meta data-react-helmet="true" property="og:description" content="Do you prefer learning through videos? Check out our video on"><link data-react-helmet="true" rel="canonical" href="https://mongodb-university.github.io/Bluehawk/code-snippets/"><link data-react-helmet="true" rel="alternate" href="https://mongodb-university.github.io/Bluehawk/code-snippets/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://mongodb-university.github.io/Bluehawk/code-snippets/" hreflang="x-default"><link rel="stylesheet" href="/Bluehawk/assets/css/styles.3b4610ff.css">
<link rel="preload" href="/Bluehawk/assets/js/runtime~main.68b9fad8.js" as="script">
<link rel="preload" href="/Bluehawk/assets/js/main.8226d33c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Bluehawk/"><b class="navbar__title">Bluehawk Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mongodb-university/Bluehawk" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Bluehawk/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Bluehawk/install">Install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Bluehawk/use-cases">Use Cases</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Guides</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Bluehawk/code-snippets/">Extract Code Snippets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Bluehawk/tutorials/">Tutorials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Bluehawk/continuous-integration/">Continuous Integration</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Develop</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Extract Code Snippets</h1></header><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Do you prefer learning through videos? Check out our video on
<a href="/Bluehawk/#extract-and-generate-code-examples">Extract and Generate Code Examples</a></p></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="annotate-unit-tests">Annotate Unit Tests<a aria-hidden="true" class="hash-link" href="#annotate-unit-tests" title="Direct link to heading">â€‹</a></h2><p>The first step to use Bluehawk is to annotate your unit tests with
<a href="/Bluehawk/reference/tags">Bluehawk tags</a>. Tags are similar to HTML or XML; you
put a <code>start</code> tag before the code you want to annotate, and an <code>end</code> tag
after it. Bluehawk reads those start and end tags, and generates output
files based on your annotations. You can use Bluehawk tags in any text file.</p><p>The Bluehawk tool has language-specific &quot;comment awareness&quot; - as well as
string literal awareness - that allows it to:</p><ul><li>Avoid making snippet files with a closing block comment token at the front</li><li>Parse multi-line, commented out JSON &quot;attribute lists&quot; of tags so they
don&#x27;t create syntax errors in your code</li></ul><p>There is not currently a way to find out which languages Bluehawk supports
from the CLI. However, you can see the <a href="https://github.com/mongodb-university/Bluehawk/blob/8bb5766e5f30182ed3992eae8f36dba8a8db99ba/src/bluehawk/getBluehawk.ts#L52" target="_blank" rel="noopener noreferrer">supported file extensions in
the Bluehawk source</a>
to see if Bluehawk supports your preferred language.</p><p>To request support for your language, <a href="https://github.com/mongodb-university/Bluehawk/issues" target="_blank" rel="noopener noreferrer">file an issue in the Bluehawk
repository</a>, or
make a PR to add support for your preferred language.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="output-file-names">Output File Names<a aria-hidden="true" class="hash-link" href="#output-file-names" title="Direct link to heading">â€‹</a></h3><p>When you start a Bluehawk code block tag, you append a descriptive title,
similar to:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">// :snippet-start: person-model</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>When you generate Bluehawk output, the output file name concatenates:</p><ul><li>The name of your unit test file</li><li>The word <code>snippet</code></li><li>The descriptive name that you put in the <code>snippet-start</code> tag</li><li>The file type of your unit test file</li></ul><p>For this example, the code block is in a file called Models.swift, so
the generated output file name would be: <code>Models.snippet.person-model.swift</code>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="example-unit-test-annotation">Example Unit Test Annotation<a aria-hidden="true" class="hash-link" href="#example-unit-test-annotation" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="snippet-start-and-end">Snippet start and end<a aria-hidden="true" class="hash-link" href="#snippet-start-and-end" title="Direct link to heading">â€‹</a></h4><p>This is a complete code example in the
<a href="https://github.com/mongodb/docs-realm/blob/master/examples/ios/Examples/Models.swift" target="_blank" rel="noopener noreferrer">Models.swift</a>
file in the Realm Docs iOS Unit Test suite.</p><p>For this code snippet, we don&#x27;t need to show the <code>import</code> statement in our final
example, so we start the snippet after it. Then, after the code we want
to show in our final example, we end the snippet.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI swift"><pre tabindex="0" class="prism-code language-swift codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">import RealmSwift</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// :snippet-start: person-model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Person: Object {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Required string property</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var name: String = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Optional string property</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var address: String?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Optional integral type property</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var age: Int?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// :snippet-end:</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The output file becomes
<a href="https://github.com/mongodb/docs-realm/blob/master/source/examples/generated/code/start/Models.snippet.person-model.swift" target="_blank" rel="noopener noreferrer">Models.snippet.person-model.swift</a>. After we use the Bluehawk CLI to extract
this code example, the final code example looks like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI swift"><pre tabindex="0" class="prism-code language-swift codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">class Person: Object {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Required string property</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var name: String = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Optional string property</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var address: String?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Optional integral type property</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var age: Int?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The output file includes only the lines of code between the <code>snippet-start</code>
and the <code>snippet-end</code> tags.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="hide-or-remove-code">Hide or Remove code<a aria-hidden="true" class="hash-link" href="#hide-or-remove-code" title="Direct link to heading">â€‹</a></h4><p>Bluehawk lets you to hide or remove code that isn&#x27;t relevant to your
documentation viewers.</p><p>This example is from the <a href="https://github.com/mongodb/docs-realm/blob/master/examples/ios/Examples/ManageEmailPasswordUsers.swift" target="_blank" rel="noopener noreferrer">ManageEmailPasswordUsers.swift</a> file in the Realm Docs iOS Unit Test suite.</p><p>This uses the snippet start and end tags, but it also uses <code>// :hide-start:</code>
and <code>// :hide-end:</code> to hide elements of the code example. Here, we&#x27;re hiding
a test assertion in the <code>catch</code> block that the documentation viewer doesn&#x27;t
need to see. You might also use it to hide test setup or teardown code
that isn&#x27;t relevant to your documentation viewers.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI swift"><pre tabindex="0" class="prism-code language-swift codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">    func testPasswordResetFunc() async {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // :snippet-start: password-reset-function</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let app = App(id: YOUR_REALM_APP_ID)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let client = app.emailPasswordAuth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let email = &quot;forgot.my.password@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let newPassword = &quot;mynewpassword12345&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // The password reset function takes any number of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // arguments. You might ask the user to provide answers to</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // security questions, for example, to verify the user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // should be able to complete the password reset.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let args: [AnyBSON] = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // This SDK call maps to the custom password reset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // function that you define in the backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        do {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            try await client.callResetPasswordFunction(email: email, password: newPassword, args: args)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            print(&quot;Password reset successful!&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            print(&quot;Password reset failed: \(error.localizedDescription)&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // :hide-start:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            XCTAssertEqual(error.localizedDescription, &quot;user not found&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // :hide-end:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // :snippet-end:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The final output code example at
<a href="https://github.com/mongodb/docs-realm/blob/master/source/examples/generated/code/start/ManageEmailPasswordUsers.snippet.password-reset-function.swift" target="_blank" rel="noopener noreferrer">ManageEmailPasswordUsers.snippet.password-reset-function.swift</a>
looks like:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI swift"><pre tabindex="0" class="prism-code language-swift codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">let app = App(id: YOUR_REALM_APP_ID)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let client = app.emailPasswordAuth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let email = &quot;forgot.my.password@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let newPassword = &quot;mynewpassword12345&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// The password reset function takes any number of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// arguments. You might ask the user to provide answers to</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// security questions, for example, to verify the user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// should be able to complete the password reset.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let args: [AnyBSON] = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// This SDK call maps to the custom password reset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// function that you define in the backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">do {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try await client.callResetPasswordFunction(email: email, password: newPassword, args: args)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(&quot;Password reset successful!&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} catch {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(&quot;Password reset failed: \(error.localizedDescription)&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The <code>catch</code> block does not show the hidden assertion; it only shows the
print line.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="replace">Replace<a aria-hidden="true" class="hash-link" href="#replace" title="Direct link to heading">â€‹</a></h4><p>Bluehawk gives you the ability to replace terms with different terms, or even
nothing at all. In the Realm Docs iOS Unit Test suite, we use the <code>replace</code>
tag to hide awkward names we have to use to avoid namespace collisions.
For example, here are the opening lines of the
<a href="https://github.com/mongodb/docs-realm/blob/master/examples/ios/Examples/ReadWriteData.swift" target="_blank" rel="noopener noreferrer">ReadWriteData.swift</a>
file:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI swift"><pre tabindex="0" class="prism-code language-swift codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">// :replace-start: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   &quot;terms&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//     &quot;ReadWriteDataExamples_&quot;: &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import XCTest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import RealmSwift</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// :snippet-start: models</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ReadWriteDataExamples_DogToy: Object {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var name = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ReadWriteDataExamples_Dog: Object {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var name = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var age = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var color = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var currentCity = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // To-one relationship</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var favoriteToy: ReadWriteDataExamples_DogToy?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ReadWriteDataExamples_Person: Object {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted(primaryKey: true) var id = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var name = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // To-many relationship - a person can have many dogs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var dogs: List&lt;ReadWriteDataExamples_Dog&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Inverse relationship - a person can be a member of many clubs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted(originProperty: &quot;members&quot;) var clubs: LinkingObjects&lt;ReadWriteDataExamples_DogClub&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ReadWriteDataExamples_DogClub: Object {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var name = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var members: List&lt;ReadWriteDataExamples_Person&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// :snippet-end:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Many more lines of code examples, until eventually, we end the replace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// :replace-end:</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>As you can see, the model names such as <code>ReadWriteDataExamples_DogToy</code> are
very awkward. The <code>ReadWriteDataExamples</code> is present to avoid namespace
collisions with <code>Dog</code> or <code>Person</code> models in other test files. But this
awkward name isn&#x27;t something we want to show documentation viewers.</p><p>Fortunately, replace lets us swap any instance of the term we specify with
some alternative. In this example, we replace <code>ReadWriteDataExamples</code>
with an empty string.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI swift"><pre tabindex="0" class="prism-code language-swift codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">// :replace-start: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   &quot;terms&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//     &quot;ReadWriteDataExamples_&quot;: &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The <a href="https://github.com/mongodb/docs-realm/blob/master/source/examples/generated/code/start/ReadWriteData.snippet.models.swift" target="_blank" rel="noopener noreferrer">output file for the code block above</a>
looks like:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI swift"><pre tabindex="0" class="prism-code language-swift codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">class DogToy: Object {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var name = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Dog: Object {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var name = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var age = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var color = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var currentCity = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // To-one relationship</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var favoriteToy: DogToy?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Person: Object {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted(primaryKey: true) var id = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var name = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // To-many relationship - a person can have many dogs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var dogs: List&lt;Dog&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Inverse relationship - a person can be a member of many clubs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted(originProperty: &quot;members&quot;) var clubs: LinkingObjects&lt;DogClub&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class DogClub: Object {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var name = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Persisted var members: List&lt;Person&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The long, awkward name has been replaced with nothing.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Be careful with <code>replace</code>. Use VerySpecificNamesAndCharacters<!-- -->_<!-- --> here so
you can be sure you don&#x27;t unintentionally delete something common.</p></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="use-the-cli-to-extract-snippets">Use the CLI to Extract Snippets<a aria-hidden="true" class="hash-link" href="#use-the-cli-to-extract-snippets" title="Direct link to heading">â€‹</a></h2><p>After you annotate your code examples with Bluehawk tags, use the
Bluehawk CLI to parse the content. The CLI generates output files that contain
only the content you specify. The Bluehawk CLI accepts various
<a href="/Bluehawk/reference/cli">commands</a> to generate output in the way you want it.</p><p>The most common command you&#x27;ll use is <code>bluehawk snip</code>. When you snip code
blocks, you pass the output directory and the input file or directory.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">bluehawk snip -o </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">output-directory</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">input-directory-or-file</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="extract-code-from-a-single-file">Extract Code from a Single File<a aria-hidden="true" class="hash-link" href="#extract-code-from-a-single-file" title="Direct link to heading">â€‹</a></h3><p>If you&#x27;re just updating a single code example or tutorial, you can extract
code from a single file:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">bluehawk snip -o source/examples/generated/code/start/ examples/ios/Examples/ReadWriteData.swift</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This example extracts code snippets from the <code>ReadWriteData.swift</code> file, and
generates output files in <code>source/examples/generated/code/start/</code>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="extract-code-in-a-directory">Extract Code in a Directory<a aria-hidden="true" class="hash-link" href="#extract-code-in-a-directory" title="Direct link to heading">â€‹</a></h3><p>If you want to generate Bluehawk output for all the files in a directory,
you can pass a directory as an input source:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">bluehawk snip -o source/examples/generated/code/start/ examples/ios/Examples</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>In this example, <code>examples/ios/examples</code> is the directory that contains all
of the Realm docs iOS unit test files. If we create new test files, or
change existing tests, and then run this command, Bluehawk generates
new or updated output files for all changes.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Make an <a href="https://www.geeksforgeeks.org/alias-command-in-linux-with-examples/" target="_blank" rel="noopener noreferrer">alias</a>
for common Bluehawk commands. If you find yourself always running the same
<code>bluehawk snip</code> command with the same input and output directories, make
it a command-line alias. I have <code>bluehawkify</code> and <code>bluehawkify-android</code> as
aliases for common Bluehawk CLI commands.</p></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="include-the-snippets-in-your-documentation">Include the Snippets In Your Documentation<a aria-hidden="true" class="hash-link" href="#include-the-snippets-in-your-documentation" title="Direct link to heading">â€‹</a></h2><p>After annotating code examples and extracting them with the Bluehawk CLI,
you&#x27;ve got code files in an output directory.</p><p>Now it&#x27;s time to include those code blocks in your documentation.
How you do that depends on your documentation tooling.</p><p>In Realm documentation, our build system uses reStructured Text (rST), which
<a href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#include" target="_blank" rel="noopener noreferrer">has an <code>include</code> option</a>
that looks like:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">.. literalinclude:: /examples/generated/code/start/ReadWriteData.snippet.models.swift</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   :language: swift</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>In <a href="https://docusaurus.io/docs/static-assets" target="_blank" rel="noopener noreferrer">Docusaurus</a>, you would <code>import</code>
the file from a generated file directory and use it in a special block:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">import QuickStartTestSnippetUpdateRealmObjectDart from &quot;!!raw-loader!@site/generated/flutter/quick_start_test.snippet.update-realm-object.dart&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;CodeBlock className=&quot;language-dart&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {QuickStartTestSnippetUpdateRealmObjectDart}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/CodeBlock&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Consult your documentation tooling for the best way to include external files
in your documentation set.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Bluehawk/use-cases"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Use Cases</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Bluehawk/tutorials/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tutorials<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#annotate-unit-tests" class="table-of-contents__link toc-highlight">Annotate Unit Tests</a><ul><li><a href="#output-file-names" class="table-of-contents__link toc-highlight">Output File Names</a></li><li><a href="#example-unit-test-annotation" class="table-of-contents__link toc-highlight">Example Unit Test Annotation</a></li></ul></li><li><a href="#use-the-cli-to-extract-snippets" class="table-of-contents__link toc-highlight">Use the CLI to Extract Snippets</a><ul><li><a href="#extract-code-from-a-single-file" class="table-of-contents__link toc-highlight">Extract Code from a Single File</a></li><li><a href="#extract-code-in-a-directory" class="table-of-contents__link toc-highlight">Extract Code in a Directory</a></li></ul></li><li><a href="#include-the-snippets-in-your-documentation" class="table-of-contents__link toc-highlight">Include the Snippets In Your Documentation</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Bluehawk/">Intro</a></li><li class="footer__item"><a class="footer__link-item" href="/Bluehawk/commands">Tags</a></li><li class="footer__item"><a class="footer__link-item" href="/Bluehawk/cli">CLI</a></li><li class="footer__item"><a class="footer__link-item" href="/Bluehawk/api">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/mongodb-university/Bluehawk" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github Repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/mongodb-university/Bluehawk/blob/main/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Contributing Guidelines<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/mongodb-university/Bluehawk/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Submit Issue<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/Bluehawk/assets/js/runtime~main.68b9fad8.js"></script>
<script src="/Bluehawk/assets/js/main.8226d33c.js"></script>
</body>
</html>